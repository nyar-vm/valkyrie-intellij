namespace std.monad;

union Option[T] -> T {
	Some {
		value: T
	},
	None,
}

def div42(f) {
	try {
		f()
	}
	.catch {
		case Some { x }:
			resume x
		case None:
			resume 42
	}
}

def main() {
	div42 {
		5 / 0
	}
}